(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{"./src/picker/RepositoryTeamParticipantsPicker/index.mdx":function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return m}));var n=a("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),r=a("react"),i=a.n(r),c=a("./node_modules/@mdx-js/react/dist/esm.js"),l=a("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),s=a("./node_modules/antd/es/divider/index.js"),o=a("./src/picker/RepositoryTeamParticipantsPicker/index.tsx"),u=(a("./node_modules/antd/dist/antd.css"),function(e){var t=Object(r.useState)(!1),a=Object(l.a)(t,2),n=a[0],c=a[1];return i.a.createElement("div",{style:{position:"relative"}},i.a.createElement("a",{onClick:function(){c(!0)}},"\u6253\u5f00\u578b\u53f7\u56e2\u961f\u53c2\u4e0e\u8005\u9009\u62e9\u5668"),i.a.createElement(s.a,{type:"vertical"}),i.a.createElement("a",{onClick:function(){c(!1)}},"\u5173\u95ed\u578b\u53f7\u56e2\u961f\u53c2\u4e0e\u8005\u9009\u62e9\u5668"),i.a.createElement(o.a,{repositoryId:"448689691163910144",visible:n,title:"\u641c\u7d22\u578b\u53f7\u56e2\u961f\u53c2\u4e0e\u8005",multi:!0,onOk:function(e){c(!1)},onCancel:function(){c(!1)}}))});u&&u===Object(u)&&Object.isExtensible(u)&&Object.defineProperty(u,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"TeamParticipantsPickerDemo",filename:"demo\\TeamParticipantsPicker.tsx"}});var d={};function m(e){var t=e.components,a=Object(n.a)(e,["components"]);return Object(c.b)("wrapper",Object.assign({},d,a,{components:t,mdxType:"MDXLayout"}),Object(c.b)("h2",{id:"demo"},"Demo"),Object(c.b)(u,{mdxType:"TeamParticipantsPickerDemo"}))}m&&m===Object(m)&&Object.isExtensible(m)&&Object.defineProperty(m,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"src\\picker\\RepositoryTeamParticipantsPicker\\index.mdx"}}),m.isMDXComponent=!0},"./src/picker/RepositoryTeamParticipantsPicker/index.tsx":function(e,t,a){"use strict";var n=a("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js"),r=a("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),i=a("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js"),c=a.n(i),l=a("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),s=a("react"),o=a.n(s),u=a("./src/display/index.tsx"),d=a("./node_modules/antd/es/table/index.js"),m=a("./node_modules/antd/es/layout/index.js"),b=a("./node_modules/antd/es/spin/index.js"),p=a("./node_modules/antd/es/tree/index.js"),f=a("./node_modules/antd/es/radio/index.js"),j=a("./src/picker/utils.ts"),y=a("./node_modules/@cpdm/util/es/index.js"),O=sessionStorage.getItem("TEST_SVR")||"",v=[{title:"\u7528\u6237\u6807\u8bc6",dataIndex:"fullName",render:function(e,t){return t.roleIdentifier?o.a.createElement("strong",null,e):e}},{title:"\u90ae\u7bb1",dataIndex:"email"},{title:"\u4eba\u5458\u5bc6\u7ea7",dataIndex:"secretLevel"}],x=function(){var e=Object(l.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(y.a)("".concat(O,"/plm/api/v2/cpdm/repositories/").concat(t,"/team/members?type=").concat(a)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_=function(e){var t=e.repositoryId,a=e.visible,i=e.confirmLoading,y=e.title,O=e.multi,_=e.onOk,h=e.onCancel;if(!t)return null;var k,g=Object(s.useState)([]),E=Object(r.a)(g,2),P=E[0],S=E[1],T=Object(s.useState)(!1),w=Object(r.a)(T,2),I=w[0],C=w[1],A=Object(s.useState)([]),R=Object(r.a)(A,2),D=R[0],K=R[1],L=Object(s.useState)([]),B=Object(r.a)(L,2),M=B[0],X=B[1],z=Object(s.useState)(),F=Object(r.a)(z,2),G=F[0],H=F[1],J=Object(s.useState)("all"),N=Object(r.a)(J,2),V=N[0],W=N[1];Object(s.useEffect)((function(){var e=!1;return Object(l.a)(c.a.mark((function a(){var r,i,l,s;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return C(!0),a.next=3,x(t,V);case 3:if(r=a.sent,!e&&r&&Array.isArray(r))if("all"===V)K(r);else if(X([{title:"\u6240\u6709\u89d2\u8272",key:"0",children:r.map((function(e){return{key:e.id,title:e.fullName,members:e.children}}))}]),G){i=Object(n.a)(r);try{for(i.s();!(l=i.n()).done;)(s=l.value).id===G&&K(s.children)}catch(c){i.e(c)}finally{i.f()}}else K([]);C(!1);case 6:case"end":return a.stop()}}),a)})))(),function(){e=!0}}),[t,V]);var q=o.a.createElement(d.a,{columns:v,pagination:!1,dataSource:D,size:"small",bordered:!0,loading:I,rowSelection:{selectedRowKeys:P.map((function(e){return e.userId})),type:O?"checkbox":"radio",onSelect:function(e,t){var a=Object(j.a)(e,t,P,O,"userId");S(a)},onSelectAll:function(e,t,a){S(Object(j.b)(e,a,P,"userId"))},fixed:!0},rowKey:function(e){return e.userId}});return k="all"===V?q:o.a.createElement(m.a,{style:{backgroundColor:"transparent"}},o.a.createElement(m.a.Sider,{theme:"light"},I&&o.a.createElement("div",{style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement(b.a,null)),!I&&o.a.createElement(p.a,{treeData:M,expandedKeys:["0"],selectedKeys:G?[G]:[],onSelect:function(e){var t=Object(r.a)(e,1)[0];if(H(t),t){var a,i=Object(r.a)(M,1)[0].children,c=Object(n.a)(i);try{for(c.s();!(a=c.n()).done;){var l=a.value;l.key===t&&K(l.members)}}catch(s){c.e(s)}finally{c.f()}}}})),o.a.createElement(m.a.Content,null,q)),o.a.createElement(u.f,{visible:a,confirmLoading:i,width:1024,title:y,bodyStyle:{padding:12},onOk:function(){_(P)},onCancel:function(){h()}},o.a.createElement("div",{style:{marginBottom:12,textAlign:"right"}},o.a.createElement(f.default.Group,{size:"small",value:V,onChange:function(e){W(e.target.value)}},o.a.createElement(f.default.Button,{value:"all"},"\u6240\u6709\u7528\u6237"),o.a.createElement(f.default.Button,{value:"role"},"\u6309\u89d2\u8272\u5212\u5206"))),k)};t.a=_,_&&_===Object(_)&&Object.isExtensible(_)&&Object.defineProperty(_,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"RepositoryTeamParticipantsPicker",filename:"src\\picker\\RepositoryTeamParticipantsPicker\\index.tsx"}})},"./src/picker/utils.ts":function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return c}));var n=a("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),r=a("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js"),i=function(e,t,a,i){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"id";if(t){var l,s=!1,o=Object(r.a)(a);try{for(o.s();!(l=o.n()).done;)if(l.value[c]===e[c]){s=!0;break}}catch(b){o.e(b)}finally{o.f()}if(!s)return i?[].concat(Object(n.a)(a),[e]):[e]}else{var u,d=0,m=Object(r.a)(a);try{for(m.s();!(u=m.n()).done;){if(u.value[c]===e[c])return i?(a.splice(d,1),Object(n.a)(a)):[e];d++}}catch(b){m.e(b)}finally{m.f()}}return a};"undefined"!==typeof i&&i&&i===Object(i)&&Object.isExtensible(i)&&Object.defineProperty(i,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"select",filename:"src\\picker\\utils.ts"}});var c=function(e,t,a){var i,c,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"id",s=Object(r.a)(t);try{for(s.s();!(c=s.n()).done;)if(i=c.value,e){var o,u=!1,d=Object(r.a)(a);try{for(d.s();!(o=d.n()).done;)if(o.value[l]===i[l]){u=!0;break}}catch(f){d.e(f)}finally{d.f()}u||a.push(i)}else{var m,b=0,p=Object(r.a)(a);try{for(p.s();!(m=p.n()).done;){if(m.value[l]===i[l]){a.splice(b,1);break}b++}}catch(f){p.e(f)}finally{p.f()}}}catch(f){s.e(f)}finally{s.f()}return Object(n.a)(a)};"undefined"!==typeof c&&c&&c===Object(c)&&Object.isExtensible(c)&&Object.defineProperty(c,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"selectAll",filename:"src\\picker\\utils.ts"}})}}]);