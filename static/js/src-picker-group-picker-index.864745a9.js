(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{"./src/picker/GroupPicker/index.mdx":function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return b}));var a=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),r=t("react"),i=t.n(r),o=t("./node_modules/@mdx-js/react/dist/esm.js"),c=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),s=t("./src/picker/GroupPicker/index.tsx"),l=(t("./node_modules/antd/dist/antd.css"),t("./node_modules/antd/es/button/index.js")),u=function(e){var n=Object(r.useState)(!1),t=Object(c.a)(n,2),a=t[0],o=t[1];return i.a.createElement("div",{style:{position:"relative"}},i.a.createElement(l.a,{type:"primary",onClick:function(){o(!0)}},"\u6253\u5f00\u7fa4\u7ec4\u9009\u62e9\u5668"),i.a.createElement(s.a,{visible:a,title:"\u641c\u7d22\u7fa4\u7ec4",multi:!0,onOk:function(e){o(!1)},onCancel:function(){o(!1)}}))};u&&u===Object(u)&&Object.isExtensible(u)&&Object.defineProperty(u,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"GroupPickerDemo",filename:"demo\\GroupPicker.tsx"}});var d={};function b(e){var n=e.components,t=Object(a.a)(e,["components"]);return Object(o.b)("wrapper",Object.assign({},d,t,{components:n,mdxType:"MDXLayout"}),Object(o.b)("h2",{id:"demo"},"Demo"),Object(o.b)(u,{mdxType:"GroupPickerDemo"}),Object(o.b)("h2",{id:"\u5c5e\u6027"},"\u5c5e\u6027"),Object(o.b)("pre",null,Object(o.b)("code",Object.assign({parentName:"pre"},{}),"  // \u662f\u5426\u53ef\u89c1\n  visible: boolean;\n  // \u6807\u9898\n  title: React.ReactNode;\n  // \u662f\u5426\u53ef\u591a\u9009\n  multi?: boolean;\n  // \u6570\u636e\u9009\u5b9a\u65f6\u7684\u65b9\u6cd5\n  onOk: Function;\n  // \u53d6\u6d88\u6570\u636e\u9009\u5b9a\u7684\u65b9\u6cd5\n  onCancel: Function;\n  // \u70b9\u51fb\u786e\u5b9a\u6309\u94ae\u65f6\u7684\u7b49\u5f85\u72b6\u6001\n  confirmLoading?: boolean;\n  // \u9644\u52a0\u7684\u7b5b\u9009\u7ec4\u7684\u6761\u4ef6\n  extraQuery?: { [param: string]: any };\n")),Object(o.b)("h2",{id:"\u4ee3\u7801"},"\u4ee3\u7801"),Object(o.b)("pre",null,Object(o.b)("code",Object.assign({parentName:"pre"},{}),'import React, { useState } from "react";\nimport { Divider } from "antd";\nimport GroupPicker from "../src/picker/GroupPicker";\nimport "antd/dist/antd.css";\n\nconst GroupPickerDemo: React.FunctionComponent = (props) => {\n  const [pickerVisible, setpickerVisible] = useState(false);\n  return (\n    <div style={{ position: "relative" }}>\n      <a\n        onClick={() => {\n          setpickerVisible(true);\n        }}\n      >\n        \u6253\u5f00\u7fa4\u7ec4\u9009\u62e9\u5668\n      </a>\n      <Divider type="vertical" />\n      <a\n        onClick={() => {\n          setpickerVisible(false);\n        }}\n      >\n        \u5173\u95ed\u7fa4\u7ec4\u9009\u62e9\u5668\n      </a>\n      <GroupPicker\n        visible={pickerVisible}\n        title="\u641c\u7d22\u7fa4\u7ec4"\n        multi\n        onOk={(rows: any) => {\n          setpickerVisible(false);\n        }}\n        onCancel={() => {\n          setpickerVisible(false);\n        }}\n      />\n    </div>\n  );\n};\n\nexport { GroupPickerDemo };\n')))}b&&b===Object(b)&&Object.isExtensible(b)&&Object.defineProperty(b,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"src\\picker\\GroupPicker\\index.mdx"}}),b.isMDXComponent=!0},"./src/picker/GroupPicker/index.tsx":function(e,n,t){"use strict";var a=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),r=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),i=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js"),o=t.n(i),c=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),s=t("react"),l=t.n(s),u=t("./node_modules/@ant-design/icons/es/icons/SearchOutlined.js"),d=t("./node_modules/@ant-design/icons/es/icons/ReloadOutlined.js"),b=t("./node_modules/antd/es/form/index.js"),p=t("./node_modules/antd/es/input/index.js"),m=t("./node_modules/antd/es/space/index.js"),f=t("./node_modules/antd/es/button/index.js"),j=t("./node_modules/antd/es/table/index.js"),O=t("./src/display/index.tsx"),v=t("./node_modules/qs/lib/index.js"),k=t("./node_modules/@cpdm/util/es/index.js"),y=t("./src/picker/utils.ts"),g=sessionStorage.getItem("TEST_SVR")||"",x=function(){var e=Object(c.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(k.a)("".concat(g,"/plm/api/v2/cpdm/groups").concat(Object(v.stringify)(n,{addQueryPrefix:!0}))));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),_=[{dataIndex:"name",title:"\u540d\u79f0"},{dataIndex:"description",title:"\u8bf4\u660e"}],h=function(e){var n=e.visible,t=e.title,i=e.multi,v=e.onOk,k=e.onCancel,g=e.confirmLoading,h=e.extraQuery,E=Object(s.useState)(),C=Object(r.a)(E,2),P=C[0],S=C[1],w=Object(s.useState)({content:[],pagination:{},loading:!1}),G=Object(r.a)(w,2),D=G[0],T=G[1],V=Object(s.useState)([]),A=Object(r.a)(V,2),R=A[0],z=A[1],I=Object(s.useCallback)(Object(c.a)(o.a.mark((function e(){var n,t,r=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>0&&void 0!==r[0]?r[0]:{current:1,pageSize:10},r.length>1?r[1]:void 0,r.length>2?r[2]:void 0,r.length>3?r[3]:void 0,T(Object(a.a)(Object(a.a)({},D),{},{loading:!0})),e.next=7,x(Object(a.a)({name:P,page:n.current-1,size:n.pageSize},h));case 7:(t=e.sent).content&&Array.isArray(t.content)?T({content:t.content,pagination:{current:t.number+1,pageSize:t.size,total:t.totalElements,showTotal:function(e){return"\u5171".concat(e,"\u9879")}},loading:!1}):T(Object(a.a)(Object(a.a)({},D),{},{loading:!1}));case 9:case"end":return e.stop()}}),e)}))),[]),F=Object(s.useCallback)((function(){z([]),I()}),[]),L=Object(s.useCallback)((function(){S(void 0),z([]),I()}),[]),M=Object(s.useCallback)((function(e,n){var t=Object(y.a)(e,n,R,i);z(t)}),[R]),N=Object(s.useCallback)((function(e,n,t){var a=Object(y.b)(e,t,R);z(a)}),[R]);Object(s.useEffect)((function(){return I(),function(){}}),[]);var Q=l.a.createElement("div",null,l.a.createElement(b.a,{layout:"inline",style:{marginBottom:12}},l.a.createElement(b.a.Item,{label:"\u7fa4\u7ec4\u540d\u79f0"},l.a.createElement(p.a,{style:{width:742},value:P,onChange:function(e){S(e.target.value)}})),l.a.createElement(m.a,null,l.a.createElement(f.a,{icon:l.a.createElement(u.a,null),type:"primary",onClick:F,disabled:g},"\u68c0\u7d22"),l.a.createElement(f.a,{icon:l.a.createElement(d.a,null),onClick:L,disabled:g},"\u91cd\u7f6e"))),l.a.createElement(j.a,{columns:_,dataSource:D.content,pagination:D.pagination,onChange:I,size:"small",bordered:!0,loading:D.loading,rowSelection:{selectedRowKeys:R.map((function(e){return e.id})),type:i?"checkbox":"radio",onSelect:M,onSelectAll:N,fixed:!0},rowKey:function(e){return e.id}}));return l.a.createElement(O.f,{visible:n,confirmLoading:g,width:1024,title:t,bodyStyle:{padding:12},onOk:function(){v(R)},onCancel:function(){k()}},Q)};n.a=h,h&&h===Object(h)&&Object.isExtensible(h)&&Object.defineProperty(h,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"GroupPicker",filename:"src\\picker\\GroupPicker\\index.tsx"}})},"./src/picker/utils.ts":function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return o}));var a=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),r=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js"),i=function(e,n,t,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"id";if(n){var c,s=!1,l=Object(r.a)(t);try{for(l.s();!(c=l.n()).done;)if(c.value[o]===e[o]){s=!0;break}}catch(p){l.e(p)}finally{l.f()}if(!s)return i?[].concat(Object(a.a)(t),[e]):[e]}else{var u,d=0,b=Object(r.a)(t);try{for(b.s();!(u=b.n()).done;){if(u.value[o]===e[o])return i?(t.splice(d,1),Object(a.a)(t)):[e];d++}}catch(p){b.e(p)}finally{b.f()}}return t};"undefined"!==typeof i&&i&&i===Object(i)&&Object.isExtensible(i)&&Object.defineProperty(i,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"select",filename:"src\\picker\\utils.ts"}});var o=function(e,n,t){var i,o,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"id",s=Object(r.a)(n);try{for(s.s();!(o=s.n()).done;)if(i=o.value,e){var l,u=!1,d=Object(r.a)(t);try{for(d.s();!(l=d.n()).done;)if(l.value[c]===i[c]){u=!0;break}}catch(f){d.e(f)}finally{d.f()}u||t.push(i)}else{var b,p=0,m=Object(r.a)(t);try{for(m.s();!(b=m.n()).done;){if(b.value[c]===i[c]){t.splice(p,1);break}p++}}catch(f){m.e(f)}finally{m.f()}}}catch(f){s.e(f)}finally{s.f()}return Object(a.a)(t)};"undefined"!==typeof o&&o&&o===Object(o)&&Object.isExtensible(o)&&Object.defineProperty(o,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"selectAll",filename:"src\\picker\\utils.ts"}})}}]);